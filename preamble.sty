% imports
\usepackage{graphicx}  % allows inclusion of PDF, PNG and JPG images
\usepackage{fancyhdr}  % for tweaking the running header/footer lines
\usepackage{amsfonts}
\usepackage{amsmath, amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage[utf8]{inputenc}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{longtable}
\usepackage{svg}
\usepackage{dirtree}
\usepackage{wrapfig}
\usepackage{caption}    % For caption outside of figure environment
\usepackage{subcaption}  % For sub-figures
\usepackage{array}
\usepackage{float}


% code highlighting
\usepackage{minted}

% page layout
\usepackage[margin=2cm]{geometry}
\setlength{\parindent}{0pt}
\setlength{\parskip}{\bigskipamount}

% \renewcommand{\baselinestretch}{1.1}

% title spacing
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{10pt}

% don't let large figures hijack entire pages
\renewcommand\topfraction{.9}
\renewcommand\textfraction{.1}
\renewcommand\floatpagefraction{.8}

% get rid of empty pages
\renewcommand{\cleardoublepage}{\clearpage}

\raggedbottom
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\newcommand{\figureastable}[4]{
\begin{table}[#3]
    \centering
    \includegraphics[width=#1\textwidth]{figures/#2.png}
    \caption{#4}
    \label{#2}
\end{table}
}

% \newcommand{\myfigure}[4]{
% \begin{figure}[#3]
%     \centering
%     \includegraphics[width=#1\textwidth]{figures/#2.png}
%     \caption{#4}
%     \label{#2}
% \end{figure}
% }

\newcommand{\myincludegraphics}[2]{
    \IfFileExists{svgs/#2.pdf}{%
        \includegraphics[width=#1]{svgs/#2.pdf}%
    }{%
        \IfFileExists{svgs/#2.svg}{%
            \includesvg[width=#1]{svgs/#2}%
        }{%
            \includegraphics[width=#1]{figures/#2.png}%
        }%
    }
}

\newcommand{\myfigure}[4]{
    \begin{figure}[#3]
        \centering
        \myincludegraphics{#1\textwidth}{#2}
        \caption{#4}
        \label{#2}
    \end{figure}
}

\newcommand{\mywrapfigure}[5]{
    \begin{wrapfigure}[#5]{#3}{#1\textwidth}
        \centering
        \myincludegraphics{0.9\linewidth}{#2}
        \caption{#4}
        \label{#2}
    \end{wrapfigure}
}

\newcommand{\myfigurerow}[7]{
    \begin{figure}[#3]
        \centering
        \begin{minipage}[]{#1\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#2}
            \caption{#4}
            \label{#2}
        \end{minipage}\hfill
        \begin{minipage}[]{#5\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#6}
            \caption{#7}
            \label{#6}
        \end{minipage}
    \end{figure}
}


\newcommand{\mysubfigurerow}[9]{
    \begin{figure}[#3]
        \centering
        \begin{subfigure}[b]{#1\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#2}
            \caption{#4}
            \label{#2}
        \end{subfigure}
        \hspace{0.05\textwidth}
        \begin{subfigure}[b]{#5\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#6}
            \caption{#7}
            \label{#6}
        \end{subfigure}
        \caption{#8}
        \label{#9}
    \end{figure}
}

\newcommand{\mysubfigurerowthree}[9]{
    \begin{figure}[#3]
        \centering
        \begin{subfigure}[b]{#1\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#2}
            \ifthenelse{\equal{#4}{}}{}{\caption{#4}}
            \label{#2}
        \end{subfigure}
        \hspace{0.01\textwidth}
        \begin{subfigure}[b]{#1\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#5}
            \ifthenelse{\equal{#6}{}}{}{\caption{#6}}
            % \label{#5}
        \end{subfigure}
        \hspace{0.01\textwidth}
        \begin{subfigure}[b]{#1\textwidth}
            \centering
            \myincludegraphics{\linewidth}{#7}
            \ifthenelse{\equal{#8}{}}{}{\caption{#8}}
            % \label{#7}
        \end{subfigure}
        \caption{#9}
        \label{#2}
    \end{figure}
}

\newcommand{\minipagewrap}[5]{%
    \begin{minipage}[#3]{#1\textwidth}
        #5%
    \end{minipage}\hfill
    \begin{minipage}[#3]{\dimexpr0.95\textwidth-#1\textwidth\relax}
        \centering
        \myincludegraphics{\textwidth}{#2}
        \captionof{figure}{#4}
        \label{#2}
    \end{minipage}
}

\newcommand{\todo}[1]{
    \colorbox{yellow}{\textcolor{darkgray}{\textbf{TODO:} #1}}
}

\newcommand{\question}[1]{
    \textcolor{purple}{\textbf{QUESTION:} #1}
}

\usepackage[pdfborder={0 0 0}, bookmarks=true]{hyperref}  % turns references into hyperlinks
\hypersetup{bookmarksdepth=subsubsection}  % or any other level you need